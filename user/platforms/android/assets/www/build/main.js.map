{"version":3,"sources":["../../src/pages/dettagli/dettagli.ts","../../src/pages/foto/foto.ts","../../src/pages/login/login.ts","../../src/pages/privacy/privacy.ts","../../src/pages/registrazione/registrazione.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/home/home.ts","../../src/providers/fcm/fcm.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/pages/elenco/elenco.ts"],"names":[],"mappings":";;;;;;;;;AAAA;AAAA;;;;;;;;;;;;;;;;;;EAkBE;;;;;;;;;;AAE+D;AACoB;AAE7B;AAUxD;IAUE,sBAAmB,OAAsB,EAAS,SAAoB,EAAS,WAAwB,EAAS,WAA8B;QAA3H,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,gBAAW,GAAX,WAAW,CAAa;QAAS,gBAAW,GAAX,WAAW,CAAmB;QAC5I,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACvC,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;IAClD,CAAC;IAID,qCAAc,GAAd;QACE,yEAAyE;QACzE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC3D,CAAC;IAED,oCAAa,GAAb,UAAc,MAAM,EAAE,OAAO;QAA7B,iBAUC;QARC,IAAI,UAAU,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;YAC1C,OAAO,EAAE,OAAO;SACjB,CAAC,CAAC;QAEH,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,MAAM,EAAE,OAAO,EAAE;YAC7C,UAAU,CAAC,IAAI,CAAC,KAAI,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,8BAAO,GAAP,UAAQ,GAAW,EAAE,KAAa;QAEhC,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;QAEhD,IAAI,UAAU,GAAG;YACf,MAAM,EAAE,MAAM;YACd,IAAI,EAAE,EAAE;YACR,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO;YACxC,eAAe,EAAE,aAAa;SAC/B;QACD,IAAI,CAAC,GAAG,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC;QAE1E,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;YAClC,GAAG,EAAE,IAAI,CAAC,GAAG;YACb,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI;YACrC,QAAQ,EAAE,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE;SAC/B,CAAC,CAAC;QAEH,IAAI,OAAO,GAAG,6BAA6B,CAAC;QAE5C,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IACtC,CAAC;IAED,0CAAmB,GAAnB;QAAA,iBAWC;QAVC,iJAAiJ;QACjJ,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;QACzC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QAEvB,IAAM,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,EAAC,KAAK,EAAE,CAAC,EAAC,CAAC,CAAC;QAErE,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;YAC1B,KAAK,CAAC,yBAAyB,CAAC,CAAC;YACjC,KAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;QACrB,CAAC,CAAC,CAAC;IACL,CAAC;IAlEiB;QAAjB,yEAAS,CAAC,KAAK,CAAC;kCAAa,iEAAU;oDAAC;IAF9B,YAAY;QAJxB,wEAAS,CAAC;YACT,QAAQ,EAAE,eAAe;WACG;SAC7B,CAAC;qBAW8I;OAVnI,YAAY,CAuExB;IAAD,CAAC;AAAA;SAvEY,YAAY,e;;;;;;;;;;;;;;;;;ACjCzB;AAAA;;;;;;;;;;;;;;;;;;EAkBE;;;;;;;;;;AAEmD;AACiD;AAE9C;AAEqB;AACzB;AAES;AAEP;AACa;AAE1B;AAEA;AAEzC;;;;;GAKG;AAOH;IAWE,kBAAmB,OAAsB,EAAS,SAAoB,EAAS,WAAwB,EAAU,UAA+B,EAAU,IAAqB,EAAU,MAAc,EAAS,SAA0B,EAAS,WAA8B,EAAU,gBAAkC,EAAU,UAAsB,EAAS,GAAa,EAAU,OAAgB;QAA1X,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,gBAAW,GAAX,WAAW,CAAa;QAAU,eAAU,GAAV,UAAU,CAAqB;QAAU,SAAI,GAAJ,IAAI,CAAiB;QAAU,WAAM,GAAN,MAAM,CAAQ;QAAS,cAAS,GAAT,SAAS,CAAiB;QAAS,gBAAW,GAAX,WAAW,CAAmB;QAAU,qBAAgB,GAAhB,gBAAgB,CAAkB;QAAU,eAAU,GAAV,UAAU,CAAY;QAAS,QAAG,GAAH,GAAG,CAAU;QAAU,YAAO,GAAP,OAAO,CAAS;QAC3Y,qCAAqC;QACrC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;QACzC,IAAI,CAAC,QAAQ,GAAG,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;IACnD,CAAC;IAED,wBAAK,GAAL,UAAM,OAAc;QAClB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YACpB,KAAK,EAAE,MAAM;YACb,QAAQ,EAAE,OAAO;YACjB,OAAO,EAAE,CAAC,IAAI,CAAC;SAChB,CAAC,CAAC,OAAO,EAAE,CAAC;IACf,CAAC;IAED,6BAAU,GAAV;QAAA,iBAgBC;QAfC,IAAM,OAAO,GAAmB;YAC9B,OAAO,EAAE,EAAE;YACX,WAAW,EAAE,GAAG;YAChB,YAAY,EAAE,GAAG;YACjB,eAAe,EAAE,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,QAAQ;YACrD,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI;YAC3C,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO;YACxC,kBAAkB,EAAE,IAAI;SACzB;QACD,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAC,SAAS;YAC7C,KAAI,CAAC,WAAW,GAAG,yBAAyB,GAAG,SAAS,CAAC;YACzD,KAAI,CAAC,IAAI,GAAG,KAAI,CAAC,WAAW,CAAC;QAC/B,CAAC,EAAE,UAAC,GAAG;YACL,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,wBAAK,GAAL;QAAA,iBAsIC;QArIC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;QACzC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QAEvB,IAAI,OAAO,GAAG,IAAI,IAAI,EAAE,CAAC;QACzB,aAAa,CAAC,IAAG,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,GAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC;QAC5C,IAAI,IAAI,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,GAAC,GAAG,GAAC,GAAG,CAAC,OAAO,CAAC,QAAQ,EAAE,GAAC,CAAC,CAAC,GAAC,GAAG,GAAC,OAAO,CAAC,WAAW,EAAE,CAAC;QAC1F,IAAI,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC,CAAC;QAEvE,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,EAAC;YAC1B,IAAI,CAAC,UAAU,CAAC,oBAAoB,EAAE,CAAC,IAAI,CAAC,UAAC,GAAG;gBAC9C,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACR,EAAE,CAAC,CAAC,OAAO,KAAI,CAAC,IAAI,KAAK,WAAW,CAAC,CAAC,CAAC;wBACrC,IAAM,YAAU,GAAG,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBAC1C,KAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC,IAAI,CAAC,UAAC,QAAQ;4BAClD,KAAI,CAAC,GAAG,GAAG,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC;4BACpC,KAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC;4BACvC,YAAU,CAAC,GAAG,CAAC;gCACb,EAAE,EAAE,YAAU,CAAC,GAAG;gCAClB,IAAI,EAAE,KAAI,CAAC,KAAK;gCAChB,2CAA2C;gCAC3C,0CAA0C;gCAC1C,OAAO,EAAE,IAAI;gCACb,MAAM,EAAE,GAAG;gCACX,QAAQ,EAAE,EAAE;gCACZ,OAAO,EAAE,EAAE;gCACX,UAAU,EAAE,KAAI,CAAC,GAAG;gCACpB,WAAW,EAAE,KAAI,CAAC,KAAK;gCACvB,MAAM,EAAE,KAAI,CAAC,IAAI;gCACjB,OAAO,EAAE,EAAE;gCACX,WAAW,EAAE,KAAI,CAAC,WAAW,CAAC,KAAK;gCACnC,KAAK,EAAE,CAAC;gCACR,IAAI,EAAE,EAAE;gCACR,YAAY,EAAE,EAAE;gCAChB,aAAa,EAAE,EAAE;6BAClB,CAAC,CAAC;4BACH,KAAI,CAAC,sBAAsB,EAAE,CAAC;4BAC9B,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;gCAC1B,KAAK,CAAC,mJAAmJ,CAAC,CAAC;gCAC3J,KAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;4BACrB,CAAC,CAAC,CAAC;wBACL,CAAC,CAAC,CAAC,KAAK,CACN,UAAC,GAAG;4BACF,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;gCAC1B,OAAO,CAAC,KAAK,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;4BACjD,CAAC,CAAC,CAAC;wBACL,CAAC,CAAC,CAAC;oBACP,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACN,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;4BAC1B,KAAK,CAAC,6EAA6E,CAAC,CAAC;wBACvF,CAAC,CAAC,CAAC;oBACL,CAAC;oBAAA,CAAC;gBAEJ,CAAC;gBAAA,IAAI,CAAC,CAAC;oBACL,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;wBAC1B,KAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,UAAC,UAAmB;4BAE1D,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;gCAChB,KAAK,CAAC,iFAAiF,CAAC,CAAC;4BAC3F,CAAC;4BAAA,IAAI,EAAC;gCACJ,6CAA6C;gCAC7C,KAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,KAAI,CAAC,gBAAgB,CAAC,8BAA8B,CAAC,CAAC,IAAI,CACtF,cAAM,cAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,EAAjC,CAAiC,EACvC,eAAK,IAAI,cAAO,CAAC,GAAG,CAAC,uCAAuC,EAAE,KAAK,CAAC,EAA3D,CAA2D,CACrE,CAAC;4BACJ,CAAC;4BAAA,CAAC;wBAEJ,CAAC,CAAC,CAAC;oBACL,CAAC,CAAC,CAAC;gBACL,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC;QAAA,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,EAAC;YAC5B,IAAI,CAAC,UAAU,CAAC,iBAAiB,EAAE,CAAC,IAAI,CAAC,UAAC,GAAG;gBAC3C,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACR,EAAE,CAAC,CAAC,OAAO,KAAI,CAAC,IAAI,KAAK,WAAW,CAAC,CAAC,CAAC;wBACrC,IAAM,YAAU,GAAG,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBAC1C,KAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC,IAAI,CAAC,UAAC,QAAQ;4BAClD,KAAI,CAAC,GAAG,GAAG,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC;4BACpC,KAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC;4BACvC,YAAU,CAAC,GAAG,CAAC;gCACb,EAAE,EAAE,YAAU,CAAC,GAAG;gCAClB,IAAI,EAAE,KAAI,CAAC,KAAK;gCAChB,2CAA2C;gCAC3C,0CAA0C;gCAC1C,OAAO,EAAE,IAAI;gCACb,MAAM,EAAE,GAAG;gCACX,QAAQ,EAAE,EAAE;gCACZ,OAAO,EAAE,EAAE;gCACX,UAAU,EAAE,KAAI,CAAC,GAAG;gCACpB,WAAW,EAAE,KAAI,CAAC,KAAK;gCACvB,MAAM,EAAE,KAAI,CAAC,IAAI;gCACjB,OAAO,EAAE,EAAE;gCACX,WAAW,EAAE,KAAI,CAAC,WAAW,CAAC,KAAK;gCACnC,KAAK,EAAE,CAAC;gCACR,IAAI,EAAE,EAAE;gCACR,YAAY,EAAE,EAAE;gCAChB,aAAa,EAAE,EAAE;6BAClB,CAAC,CAAC;4BACH,KAAI,CAAC,sBAAsB,EAAE,CAAC;4BAC9B,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;gCAC1B,KAAK,CAAC,mJAAmJ,CAAC,CAAC;gCAC3J,KAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;4BACrB,CAAC,CAAC,CAAC;wBACL,CAAC,CAAC,CAAC,KAAK,CACN,UAAC,GAAG;4BACF,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;gCAC1B,OAAO,CAAC,KAAK,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;4BACjD,CAAC,CAAC,CAAC;wBACL,CAAC,CAAC,CAAC;oBACP,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACN,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;4BAC1B,KAAK,CAAC,6EAA6E,CAAC,CAAC;wBACvF,CAAC,CAAC,CAAC;oBACL,CAAC;oBAAA,CAAC;gBAEJ,CAAC;gBAAA,IAAI,CAAC,CAAC;oBACL,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;wBAC1B,KAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,UAAC,UAAmB;4BAE1D,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;gCACf,KAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,KAAI,CAAC,gBAAgB,CAAC,8BAA8B,CAAC,CAAC,IAAI,CACtF,cAAM,YAAK,CAAC,gIAAgI,CAAC,EAAvI,CAAuI,EAC7I,eAAK,IAAI,cAAO,CAAC,GAAG,CAAC,cAAc,CAAC,EAA3B,CAA2B,CACrC,CAAC;4BAEJ,CAAC;4BAAA,CAAC;wBAEJ,CAAC,CAAC,CAAC;oBACL,CAAC,CAAC,CAAC;gBACL,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC;QAAA,CAAC;IAGJ,CAAC;IAED,8CAA2B,GAA3B;QAAA,iBAmCC;QAlCC,IAAI,gCAAgC,GAAG,CAAC,CAAC;QAEzC,IAAI,OAAO,GAAG,IAAI,IAAI,EAAE,CAAC;QACzB,IAAI,cAAc,GAAG,OAAO,CAAC,OAAO,EAAE,CAAC;QAEvC,0EAA0E;QAC1E,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;YACxC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACT,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;gBACpD,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,CAAC;YAC7D,CAAC;QACH,CAAC,CAAC,CAAC;QAEH,oGAAoG;QACpG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;YACnC,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAE/B,EAAE,CAAC,CAAC,OAAO,IAAI,cAAc,CAAC,EAAC;gBAC7B,0BAA0B;gBAC1B,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;gBACpD,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,CAAC;YAC7D,CAAC;YAED,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;gBACxC,IAAI,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;gBACvC,EAAE,CAAC,CAAC,MAAM,GAAG,gCAAgC,CAAC,EAAC;oBAC7C,0CAA0C;gBAC5C,CAAC;gBAAA,IAAI,CAAC,CAAC;oBACL,KAAK,CAAC,4EAA4E,CAAC,CAAC;oBACpF,KAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;gBACrB,CAAC;YACH,CAAC,CAAC,CAAC;QAEL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,yCAAsB,GAAtB;QAAA,iBAKC;QAJC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;YACxC,IAAI,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;YACvC,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAC,CAAC,CAAC,CAAC,CAAC;QAC5D,CAAC,CAAC,CAAC;IACL,CAAC;IAED,iCAAc,GAAd;QACE,IAAI,CAAC,2BAA2B,EAAE,CAAC;IACrC,CAAC;IAhOyB;QAAzB,yEAAS,CAAC,aAAa,CAAC;;iDAAa;IAD3B,QAAQ;QAJpB,wEAAS,CAAC;YACT,QAAQ,EAAE,WAAW;WACG;SACzB,CAAC;iBAY6Y;OAXlY,QAAQ,CAmOpB;IAAD,CAAC;AAAA;SAnOY,QAAQ,e;;;;;;;;;;;;ACjDrB;AAAA;;;;;;;;;;;;;;;;;;EAkBE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEiD;AAC2D;AAEhE;AAEM;AAQpD;IAOE,mBAAmB,OAAsB,EAAS,SAAoB,EAAS,SAA0B,EAAS,IAAqB,EAAS,MAAc,EAAS,WAA8B;QAAlL,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,cAAS,GAAT,SAAS,CAAiB;QAAS,SAAI,GAAJ,IAAI,CAAiB;QAAS,WAAM,GAAN,MAAM,CAAQ;QAAS,gBAAW,GAAX,WAAW,CAAmB;IACrM,CAAC;IAED,yBAAK,GAAL,UAAM,OAAc;QAClB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YACpB,KAAK,EAAE,MAAM;YACb,QAAQ,EAAE,OAAO;YACjB,OAAO,EAAE,CAAC,IAAI,CAAC;SAChB,CAAC,CAAC,OAAO,EAAE,CAAC;IACf,CAAC;IAED,gCAAY,GAAZ;QAAA,iBAOC;QANC,EAAE,EAAC,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC,CAAC;YACzB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,cAAI,IAAI,YAAK,CAAC,mEAAmE,GAAG,KAAI,CAAC,IAAI,CAAC,KAAK,CAC9J,EADmE,CACnE,CAAC,CAAC,KAAK,CAAC,eAAK,IAAI,YAAK,CAAC,KAAK,CAAC,EAAZ,CAAY,CAAC,CAAC;QAClC,CAAC;QAAA,IAAI,EAAC;YACJ,KAAK,CAAC,0EAA0E,CAAC,CAAC;QACpF,CAAC;IACH,CAAC;IAEK,0BAAM,GAAZ;;;;gBACE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;gBACzC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;gBACvB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;qBACxE,IAAI,CAAE,cAAI;oBACT,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;oBACvD,gBAAgB;oBAChB,+CAA+C;oBAC/C,EAAE,EAAC,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,EAAC;wBAC3C,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,aAAa,EAAE,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;wBACrE,sCAAsC;wBACtC,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAE;4BAC3B,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,kEAAU,CAAC,CAAC;wBACnC,CAAC,CAAC,CAAC;oBACL,CAAC;oBAAA,IAAI,EAAC;wBACJ,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAE;4BAC3B,KAAK,CAAC,sDAAsD,CAAC;wBAC/D,CAAC,CAAC,CAAC;oBACL,CAAC;gBAEH,CAAC,CAAC,CAAC,KAAK,CAAC,eAAK;oBACd,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAE;wBAC3B,gCAAgC;wBAChC,2BAA2B;wBAC3B,EAAE,CAAC,CAAC,KAAK,KAAK,qBAAqB,CAAC,EAAC;4BACnC,KAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;wBAChC,CAAC;wBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,KAAK,qBAAqB,CAAC,EAAC;4BAC1C,KAAI,CAAC,KAAK,CAAC,oBAAoB,CAAC,CAAC;wBACnC,CAAC;wBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,KAAK,oBAAoB,CAAC,EAAC;4BACzC,KAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;wBAChC,CAAC;wBAAA,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,KAAK,oBAAoB,CAAC,EAAC;4BACxC,KAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC,CAAC;wBAClC,CAAC;wBAAC,IAAI,EAAC;4BACL,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;wBAC5B,CAAC;oBACH,CAAC,CAAC;gBACJ,CAAC,CAAC,CAAC;;;;KAEJ;IAED,kCAAc,GAAd;QACE,0CAA0C;IAC5C,CAAC;IAnEsB;QAAtB,yEAAS,CAAC,UAAU,CAAC;;2CAAM;IACL;QAAtB,yEAAS,CAAC,UAAU,CAAC;;2CAAM;IAHjB,SAAS;QAJrB,wEAAS,CAAC;YACT,QAAQ,EAAE,YAAY;WACG;SAC1B,CAAC;kBAQqM;OAP1L,SAAS,CAuErB;IAAD,CAAC;AAAA;SAvEY,SAAS,e;;;;;;;;;;;ACjCtB;AAAA;;;;;;;;;;;;;;;;;;EAkBE;;;;;;;;;;AAEiD;AACe;AACC;AAOnE;IAKE,qBAAmB,OAAsB,EAAS,SAAoB;QAAnD,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAFtE,oBAAe,GAAS,KAAK,CAAC;IAG9B,CAAC;IAED,mCAAa,GAAb;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,uFAAiB,CAAC,CAAC;QACrC,uBAAuB;IACzB,CAAC;IAED,8BAAQ,GAAR;QACE,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;IACrB,CAAC;IAED,4BAAM,GAAN,UAAO,SAAS;QAAhB,iBAMC;QALC,UAAU,CAAC;YACT,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACtB,KAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,SAAS,CAAC,QAAQ,EAAE,CAAC;QACvB,CAAC,EAAE,GAAG,CAAC,CAAC;IACV,CAAC;IAED,oCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;IAC5C,CAAC;IAzBmB;QAAnB,yEAAS,CAAC,8DAAO,CAAC;kCAAY,8DAAO;kDAAC;IAF5B,WAAW;QAJvB,wEAAS,CAAC;YACT,QAAQ,EAAE,cAAc;WACG;SAC5B,CAAC;oBAMsE;OAL3D,WAAW,CA6BvB;IAAD,CAAC;AAAA;SA7BY,WAAW,e;;;;;;;;;;;;AC7BxB;AAAA;;;;;;;;;;;;;;;;;;EAkBE;;;;;;;;;;AAEiD;AACmD;AAElD;AACyB;AAO7E;IAeE,2BAAmB,OAAsB,EAAS,SAAoB,EAAS,SAA0B,EAAU,IAAqB,EAAU,UAA+B,EAAS,WAA8B;QAArM,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,cAAS,GAAT,SAAS,CAAiB;QAAU,SAAI,GAAJ,IAAI,CAAiB;QAAU,eAAU,GAAV,UAAU,CAAqB;QAAS,gBAAW,GAAX,WAAW,CAAmB;QACtN,IAAI,CAAC,QAAQ,GAAG,UAAU,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;IACxD,CAAC;IAED,iCAAK,GAAL,UAAM,OAAe;QACnB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YACpB,KAAK,EAAE,MAAM;YACb,QAAQ,EAAE,OAAO;YACjB,OAAO,EAAE,CAAC,IAAI,CAAC;SAChB,CAAC,CAAC,OAAO,EAAE,CAAC;IACf,CAAC;IAED,0CAAc,GAAd;QAAA,iBAsDC;QArDC,4EAA4E;QAC5E,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;QACzC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QAEvB,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;YACxC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;gBAC1B,KAAK,CAAC,6BAA6B,CAAC,CAAC;YACvC,CAAC,CAAC,CAAC;QACL,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,KAAK,EAAE,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,KAAK,EAAE,IAAI,IAAI,CAAC,SAAS,CAAC,KAAK,KAAK,EAAE,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,KAAK,EAAE,CAAC,CAAC,CAAC;YAC5H,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;gBAC1B,KAAI,CAAC,KAAK,CAAC,0BAA0B,CAAC,CAAC;YACzC,CAAC,CAAC,CAAC;QACL,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;YAClE,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;gBAC1B,KAAI,CAAC,KAAK,CAAC,mCAAmC,CAAC,CAAC;YAClD,CAAC,CAAC,CAAC;QACL,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,8BAA8B,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;iBACnF,IAAI,CAAC,cAAI;gBACR,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;gBACrC,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,qBAAqB,EAAE;gBAClD,KAAI,CAAC,qBAAqB,EAAE,CAAC;gBAC7B,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;gBACzB,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;oBAC1B,KAAK,CAAC,4CAA4C,CAAC,CAAC;oBACpD,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBAC1B,KAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;gBACrB,CAAC,CAAC,CAAC;YACL,CAAC,CAAC;iBACD,KAAK,CAAC,eAAK;gBACV,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,KAAK,2BAA2B,CAAC,CAAC,CAAC;oBAC/C,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;wBAC1B,KAAI,CAAC,KAAK,CAAC,sBAAsB,CAAC,CAAC;oBACrC,CAAC,CAAC,CAAC;gBACL,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,KAAK,oBAAoB,CAAC,CAAC,CAAC;oBAC/C,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;wBAC1B,KAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;oBACjC,CAAC,CAAC,CAAC;gBACL,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,KAAK,uBAAuB,CAAC,CAAC,CAAC;oBAClD,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;wBAC1B,KAAI,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC;oBACxC,CAAC,CAAC,CAAC;gBACL,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,KAAK,oBAAoB,CAAC,CAAC,CAAC;oBAC/C,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;wBAC1B,KAAI,CAAC,KAAK,CAAC,sBAAsB,CAAC,CAAC;oBACrC,CAAC,CAAC,CAAC;gBACL,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;wBAC1B,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;oBAC5B,CAAC,CAAC,CAAC;gBACL,CAAC;YACH,CAAC,CAAC,CAAC;QACP,CAAC;IACH,CAAC;IAED,uCAAW,GAAX;QACE,wCAAwC;QACxC,IAAI,OAAO,GAAG,+DAA+D,CAAC;QAE9E,4EAA4E;QAC5E,qDAAqD;QACrD,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YACnD,qCAAqC;YACrC,gDAAgD;YAChD,MAAM,CAAC,CAAC;QACV,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,qDAAqD;YACrD,yCAAyC;YACzC,MAAM,CAAC,CAAC;QACV,CAAC;IACH,CAAC;IAED,iDAAqB,GAArB;QACE,yCAAyC;QACzC,IAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC1C,UAAU,CAAC,GAAG,CAAC;YACb,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE;YACrC,cAAc,EAAE,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,WAAW,EAAE;YACtD,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK;YACrB,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK;YAC3B,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK;YAC/B,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK;SAC9B,CAAC,CAAC,KAAK,CAAC,UAAC,GAAG;YACX,OAAO,CAAC,KAAK,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;IACL,CAAC;IAED,0CAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,kCAAkC,CAAC,CAAC;IAClD,CAAC;IAnHsB;QAAtB,yEAAS,CAAC,UAAU,CAAC;;mDAAM;IACL;QAAtB,yEAAS,CAAC,UAAU,CAAC;;mDAAM;IACJ;QAAvB,yEAAS,CAAC,WAAW,CAAC;;oDAAO;IACF;QAA3B,yEAAS,CAAC,eAAe,CAAC;;4DAAe;IACvB;QAAlB,yEAAS,CAAC,MAAM,CAAC;;mDAAM;IACF;QAArB,yEAAS,CAAC,SAAS,CAAC;;sDAAS;IACN;QAAvB,yEAAS,CAAC,WAAW,CAAC;;wDAAW;IACX;QAAtB,yEAAS,CAAC,UAAU,CAAC;;uDAAU;IATrB,iBAAiB;QAJ7B,wEAAS,CAAC;YACT,QAAQ,EAAE,oBAAoB;WACG;SAClC,CAAC;0BAgBwN;OAf7M,iBAAiB,CAsH7B;IAAD,CAAC;AAAA;SAtHY,iBAAiB,e;;;;;;;AC/B9B;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,kC;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;;ACtCA;AAAA;;;;;;;;;;;;;;;;;;EAkBE;;;;;;;;;;AAEwC;AACqB;AACpB;AACM;AAOjD;IAEE,kBAAmB,OAAsB,EAAS,SAA0B;QAAzD,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAiB;IAE5E,CAAC;IAED,yBAAM,GAAN;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,+DAAS,CAAC,CAAC;IAC/B,CAAC;IAED,2BAAQ,GAAR;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,qEAAW,CAAC,CAAC;IACjC,CAAC;IAZU,QAAQ;QAJpB,wEAAS,CAAC;YACT,QAAQ,EAAE,WAAW;WACG;SACzB,CAAC;iBAG4E;OAFjE,QAAQ,CAcpB;IAAD,CAAC;AAAA;SAdY,QAAQ,e;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9BsB;AAEO;AACT;AACiB;AAG1D;;;;;EAKE;AAEF;IAKE,qBAAmB,cAAwB,EAAS,GAAqB,EAAU,QAAkB;QAAlF,mBAAc,GAAd,cAAc,CAAU;QAAS,QAAG,GAAH,GAAG,CAAkB;QAAU,aAAQ,GAAR,QAAQ,CAAU;IAErG,CAAC;IAED,+BAA+B;IACzB,8BAAQ,GAAd;;;;;;6BAGM,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,EAA3B,wBAA2B;wBAC7B,SAAI;wBAAS,qBAAM,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE;;wBAAjD,GAAK,KAAK,GAAG,SAAoC,CAAC;;;6BAGhD,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,EAAvB,wBAAuB;wBACzB,SAAI;wBAAS,qBAAM,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE;;wBAAjD,GAAK,KAAK,GAAG,SAAoC,CAAC;wBAClD,qBAAM,IAAI,CAAC,cAAc,CAAC,eAAe,EAAE;;wBAA3C,SAA2C,CAAC;;;oBAG9C,yCAAyC;oBACzC,sBAAO,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,KAAK,CAAC;;;;KAC7C;IAED,8BAA8B;IACtB,0CAAoB,GAA5B,UAA6B,KAAK;QAChC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;YAAC,MAAM,CAAC;QAEnB,+DAA+D;QAE/D,IAAM,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,aAAa,CAAC;QAErD,IAAM,OAAO,GAAG;YACd,KAAK;SACN;QAED,wCAAwC;QAExC;;;;;;UAME;QAEF,MAAM,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC;IAC3C,CAAC;IAED,kCAAkC;IAClC,2CAAqB,GAArB;QACE,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,kBAAkB,EAAE;IACjD,CAAC;IAtDU,WAAW;QADvB,yEAAU,EAAE;yCAMwB,wEAAQ,EAAc,gFAAgB,EAAoB,+DAAQ;OAL1F,WAAW,CAwDvB;IAAD,kBAAC;CAAA;AAxDuB;;;;;;;;;;;;ACdmD;AAElC;AAEzC,yGAAsB,EAAE,CAAC,eAAe,CAAC,8DAAS,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJpD;AAAA;;;;;;;;;;;;;;;;;;EAkBE;;;;;;;AAEwD;AACH;AACkB;AACd;AACN;AAEb;AACM;AACG;AACwB;AACrB;AACM;AACZ;AACS;AAEC;AAEK;AAEX;AAEc;AACf;AACS;AAC6B;AAEjC;AACa;AAChB;AAEC;AAEpD,IAAM,YAAY,GAAG;IACnB,MAAM,EAAE,yCAAyC;IACjD,UAAU,EAAE,+BAA+B;IAC3C,WAAW,EAAE,sCAAsC;IACnD,SAAS,EAAE,eAAe;IAC1B,aAAa,EAAE,2BAA2B;IAC1C,iBAAiB,EAAE,cAAc;CAClC,CAAC;AAwDF;IAAA;IAAwB,CAAC;IAAZ,SAAS;QAtDrB,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,6DAAK;gBACL,kEAAQ;gBACR,qEAAS;gBACT,6FAAiB;gBACjB,wEAAU;gBACV,+EAAY;gBACZ,mEAAQ;gBACR,4EAAW;aACZ;YACD,OAAO,EAAE;gBACP,gFAAa;gBACb,kEAAW,CAAC,OAAO,CAAC,6DAAK,EAAE,EAAE,EACjC;oBACE,KAAK,EAAE;wBACL,EAAE,YAAY,EAAE,sDAAsD,EAAE,IAAI,EAAE,cAAc,EAAE,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBACxJ,EAAE,YAAY,EAAE,gDAAgD,EAAE,IAAI,EAAE,YAAY,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBAC9I,EAAE,YAAY,EAAE,6CAA6C,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBACzI,EAAE,YAAY,EAAE,mDAAmD,EAAE,IAAI,EAAE,aAAa,EAAE,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBACnJ,EAAE,YAAY,EAAE,qEAAqE,EAAE,IAAI,EAAE,mBAAmB,EAAE,OAAO,EAAE,eAAe,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBACjL,EAAE,YAAY,EAAE,0CAA0C,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;qBACrI;iBACF,CAAC;gBACE,wEAAiB,CAAC,aAAa,CAAC,YAAY,CAAC;gBAC7C,uFAAsB;gBACtB,iFAAqB;gBACrB,yFAAyB;gBACzB,2EAAkB,CAAC,OAAO,EAAE;aAC7B;YACD,SAAS,EAAE,CAAC,+DAAQ,CAAC;YACrB,eAAe,EAAE;gBACf,6DAAK;gBACL,kEAAQ;gBACR,qEAAS;gBACT,6FAAiB;gBACjB,wEAAU;gBACV,+EAAY;gBACZ,mEAAQ;gBACR,4EAAW;aACZ;YACD,SAAS,EAAE;gBACT,2EAAS;gBACT,iFAAY;gBACZ,+EAAW;gBACX,qEAAM;gBACN,mFAAmB;gBACnB,6EAAU;gBACV,0FAAgB;gBAChB,yEAAQ;gBACR,wEAAW;gBACX,EAAC,OAAO,EAAE,mEAAY,EAAE,QAAQ,EAAE,wEAAiB,EAAC;aACrD;SACF,CAAC;OACW,SAAS,CAAG;IAAD,gBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;ACnHtB;AAAA;AAAA;;;;;;;;;;;;;;;;;;EAkBE;;;;;;;;;;AAEmD;AACiB;AACjB;AACM;AAEP;AACuB;AAE7B;AACM;AAED;AAEH;AAEX;AAKrC;IAUE,eAAmB,QAAkB,EAAS,SAAoB,EAAS,YAA0B,EAClF,IAAqB,EAAS,QAAwB,EAAS,MAAc,EAC7E,UAA+B,EAAS,GAAgB,EAAS,SAA0B;QAE5G,4CAA4C;QAJ9C,iBAgCC;QAhCkB,aAAQ,GAAR,QAAQ,CAAU;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,iBAAY,GAAZ,YAAY,CAAc;QAClF,SAAI,GAAJ,IAAI,CAAiB;QAAS,aAAQ,GAAR,QAAQ,CAAgB;QAAS,WAAM,GAAN,MAAM,CAAQ;QAC7E,eAAU,GAAV,UAAU,CAAqB;QAAS,QAAG,GAAH,GAAG,CAAa;QAAS,cAAS,GAAT,SAAS,CAAiB;QAI5G,IAAI,CAAC,aAAa,EAAE,CAAC;QAErB,IAAM,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,cAAI;YACnD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACV,KAAI,CAAC,QAAQ,GAAG,kEAAQ,CAAC;gBACzB,WAAW,EAAE,CAAC;YAChB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;gBACzC,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;gBAChE,2CAA2C;gBAC3C,iGAAiG;gBACjG;;;;;kBAKE;gBACF,wDAAwD;gBACxD,KAAI,CAAC,QAAQ,GAAG,wEAAU,CAAC;gBAC3B,WAAW,EAAE,CAAC;YAChB,CAAC;QACH,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,SAAS,CAAC,aAAa,EAAE,UAAC,IAAI;YACnC,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QACpB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,6BAAa,GAAb;QAAA,iBAuBC;QAtBC,IAAI,KAAK,CAAC;QACV,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC;YACzB,gEAAgE;YAChE,iEAAiE;YACjE,KAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;YAC9B,KAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;YAEzB,kBAAkB;YAClB,KAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC;YAEpB,8BAA8B;YAC9B,KAAI,CAAC,GAAG,CAAC,qBAAqB,EAAE,CAAC,IAAI,CACnC,2DAAG,CAAC,aAAG;gBACL,eAAe;gBACf,IAAM,KAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oBAClC,OAAO,EAAE,GAAG,CAAC,IAAI;oBACjB,QAAQ,EAAE,IAAI;iBACf,CAAC,CAAC;gBACH,KAAK,CAAC,OAAO,EAAE,CAAC;YAClB,CAAC,CAAC,CACH,CAAC,SAAS,EAAE;QACf,CAAC,CAAC,CAAC;IACL,CAAC;IAED,sBAAM,GAAN;QACE,uCAAuC;QAEvC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;QACzB,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC;QACrB,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;QACvB,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,kEAAQ,CAAC,CAAC;IAC7B,CAAC;IAED,wBAAQ,GAAR;QACE,MAAM,CAAC,IAAI,CAAC,wCAAwC,EAAC,SAAS,EAAE,cAAc,CAAC,CAAC;IAClF,CAAC;IA/Ee;QAAf,yEAAS,CAAC,0DAAG,CAAC;kCAAM,0DAAG;sCAAC;IADd,KAAK;QAHjB,wEAAS,CAAC;WACc;SACxB,CAAC;6JAW6B,+DAA4B,CAA4C;YAC5E,kFAAkC,yEAAc,CAAiB,uEAAM;YACjE,EAA+E;OAZnG,KAAK,CAiFjB;IAAD,CAAC;AAAA;SAjFY,KAAK,2B;;;;;;;;;;;;;;;;ACxClB;AAAA;;;;;;;;;;;;;;;;;;EAkBE;;;;;;;;;;AAEwC;AAC4D;AAElD;AACyB;AAEzB;AACZ;AAIgB;AAEf;AAQzC;IASI,oBAAmB,OAAsB,EAAS,SAAoB,EAAS,SAA0B,EAAS,IAAqB,EAAS,UAA+B,EAAS,WAAwB,EAAS,WAA8B,EAAU,OAAgB;QAAjR,iBASD;QAToB,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,cAAS,GAAT,SAAS,CAAiB;QAAS,SAAI,GAAJ,IAAI,CAAiB;QAAS,eAAU,GAAV,UAAU,CAAqB;QAAS,gBAAW,GAAX,WAAW,CAAa;QAAS,gBAAW,GAAX,WAAW,CAAmB;QAAU,YAAO,GAAP,OAAO,CAAS;QAC/Q,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;QACzC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;QACzC,iDAAiD;QACjD,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC,IAAI,CAAC,cAAc,EAAE,aAAG,IAAI,UAAG,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,KAAI,CAAC,KAAK,CAAC,EAA5C,CAA4C,CAAC,CAAC;QACxG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QACvB,IAAI,CAAC,SAAS,EAAE,CAAC;IACrB,CAAC;IAED,0BAAK,GAAL,UAAM,OAAc;QAClB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YACpB,KAAK,EAAE,MAAM;YACb,QAAQ,EAAE,OAAO;YACjB,OAAO,EAAE,CAAC,IAAI,CAAC;SAChB,CAAC,CAAC,OAAO,EAAE,CAAC;IACf,CAAC;IAED,iCAAY,GAAZ,UAAa,IAAqB;QAChC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,wEAAY,EAAE,EAAC,SAAS,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC,WAAW,EAAC,CAAC,CAAC;IACpF,CAAC;IAED,6BAAQ,GAAR;QACI,0CAA0C;QAC1C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,4DAAQ,CAAC,CAAC;IAChC,CAAC;IAED,8BAAS,GAAT;QAAA,iBAmBC;QAlBC,0EAA0E;QAC1E,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;YACrC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACT,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;YACnD,CAAC;QACH,CAAC,CAAC,CAAC;QAEH,QAAQ;QACR,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;YACtC,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAE/B,EAAE,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC,CAAC;gBACjB,KAAK,CAAC,6HAA6H;oBACjI,0CAA0C,CAAC,CAAC;gBAC9C,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;YACnD,CAAC;QACH,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,mCAAc,GAAd;QACE,IAAI,OAAO,GAAG,IAAI,IAAI,EAAE,CAAC;QACzB,aAAa,CAAC,IAAG,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,GAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC;QAC5C,IAAI,IAAI,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,GAAC,GAAG,GAAC,GAAG,CAAC,OAAO,CAAC,QAAQ,EAAE,GAAC,CAAC,CAAC,GAAC,GAAG,GAAC,OAAO,CAAC,WAAW,EAAE,CAAC;QAC1F,IAAI,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC,CAAC;QAEvE,OAAO,CAAC,GAAG,CAAC,IAAI,GAAG,KAAK,GAAG,GAAG,CAAC,CAAC;IAClC,CAAC;IAjEU,UAAU;QAJtB,wEAAS,CAAC;YACT,QAAQ,EAAE,aAAa;WACG;SAC3B,CAAC;mBAUmR;OATxQ,UAAU,CAmEtB;IAAD,CAAC;AAAA;SAnEY,UAAU,e","file":"main.js","sourcesContent":["/*\n# SPDX-license-identifier: Apache-2.0\n#\n# Copyright (c) 2019 UniME - MDSLab\n#\n# Authors:  Andrea Centorrino <andrea.centorrino@gmail.com>\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\"); you may\n# not use this file except in compliance with the License. You may obtain\n# a copy of the License at\n#\n# http://www.apache.org/licenses/LICENSE-2.0\n  #\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n# License for the specific language governing permissions and limitations\n# under the License.\n*/\n\nimport { Component, ViewChild, ElementRef } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, Loading } from 'ionic-angular';\n\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { AngularFireList } from \"angularfire2/database\";\n\ndeclare var google;\n\n@IonicPage()\n@Component({\n  selector: 'page-dettagli',\n  templateUrl: 'dettagli.html',\n})\nexport class DettagliPage {\n\n  @ViewChild('map') mapElement: ElementRef;\n  map: any;\n\n  dati: any;\n  riferimento: AngularFireList<any>;\n  indirizzo: string;\n  public loading: Loading;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public geolocation: Geolocation, public loadingCtrl: LoadingController) {\n    this.dati = navParams.get('dettaglio');\n    this.riferimento = navParams.get('riferimento');\n  }\n\n\n\n  ionViewDidLoad() {\n    //console.log('Posizione: ', this.dati.latitudine,this.dati.longitudine);\n    this.loadMap(this.dati.latitudine,this.dati.longitudine);\n  }\n\n  addInfoWindow(marker, content){\n\n    let infoWindow = new google.maps.InfoWindow({\n      content: content\n    });\n\n    google.maps.event.addListener(marker, 'click', () => {\n      infoWindow.open(this.map, marker);\n    });\n\n  }\n\n  loadMap(lat: number, longi: number){\n\n    let latLng = new google.maps.LatLng(lat, longi);\n\n    let mapOptions = {\n      center: latLng,\n      zoom: 18,\n      mapTypeId: google.maps.MapTypeId.ROADMAP,\n      gestureHandling: 'cooperative'\n    }\n    this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\n\n    let marker = new google.maps.Marker({\n      map: this.map,\n      animation: google.maps.Animation.DROP,\n      position: this.map.getCenter()\n    });\n\n    let content = \"<h4>Luogo segnalazione</h4>\";\n\n    this.addInfoWindow(marker, content);\n  }\n\n  annullaSegnalazione(){\n    //Se la segnalazione è ancora \"aperta\" e viene nel frattempo risolta, permette all'utente di annullarla per alleggerire il carico sugli operatori\n    this.loading = this.loadingCtrl.create();\n    this.loading.present();\n\n    const newItemRef = this.riferimento.update(this.dati.id, {stato: 1});\n\n    this.loading.dismiss().then(() => {\n      alert(\"Segnalazione annullata.\");\n      this.navCtrl.pop();\n    });\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/dettagli/dettagli.ts","/*\n# SPDX-license-identifier: Apache-2.0\n#\n# Copyright (c) 2019 UniME - MDSLab\n#\n# Authors:  Andrea Centorrino <andrea.centorrino@gmail.com>\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\"); you may\n# not use this file except in compliance with the License. You may obtain\n# a copy of the License at\n#\n# http://www.apache.org/licenses/LICENSE-2.0\n  #\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n# License for the specific language governing permissions and limitations\n# under the License.\n*/\n\nimport { Component, ViewChild } from '@angular/core';\nimport { AlertController, IonicPage, NavController, NavParams, LoadingController, Loading } from 'ionic-angular';\n\nimport { Geolocation } from '@ionic-native/geolocation';\n\nimport { AngularFireDatabase, AngularFireList } from \"angularfire2/database\";\nimport { AngularFireAuth } from \"angularfire2/auth\";\n\nimport { Camera, CameraOptions } from '@ionic-native/camera';\n\nimport { Diagnostic } from '@ionic-native/diagnostic';\nimport { LocationAccuracy } from '@ionic-native/location-accuracy';\n\nimport { Platform } from 'ionic-angular';\n\nimport { Storage } from '@ionic/storage';\n\n/**\n * Generated class for the FotoPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-foto',\n  templateUrl: 'foto.html',\n})\nexport class FotoPage {\n  @ViewChild('descrizione') descrizione;\n\n  public loading: Loading;\n  email: string;\n  lat: number;\n  longi: number;\n  itemsRef: AngularFireList<any>;\n  public foto : any;\n  public base64Image : string;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public geolocation: Geolocation, private afDatabase: AngularFireDatabase, private fire: AngularFireAuth, private camera: Camera, public alertCtrl: AlertController, public loadingCtrl: LoadingController, private locationAccuracy: LocationAccuracy, private diagnostic: Diagnostic, public plt: Platform, private storage: Storage) {\n    //alert(fire.auth.currentUser.email);\n    this.email = fire.auth.currentUser.email;\n    this.itemsRef = afDatabase.list('/segnalazioni');\n  }\n\n  alert(message:string) {\n    this.alertCtrl.create({\n      title: 'Info',\n      subTitle: message,\n      buttons: ['OK']\n    }).present();\n  }\n\n  scattaFoto(){\n    const options : CameraOptions = {\n      quality: 60, // picture quality\n      targetWidth: 900,\n      targetHeight: 900,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE,\n      correctOrientation: true\n    }\n    this.camera.getPicture(options).then((imageData) => {\n      this.base64Image = \"data:image/jpeg;base64,\" + imageData;\n      this.foto = this.base64Image;\n    }, (err) => {\n      console.log(err);\n    });\n  }\n\n  invia(){\n    this.loading = this.loadingCtrl.create();\n    this.loading.present();\n\n    let dateobj = new Date();\n    function pad(n) {return n < 10 ? \"0\"+n : n;}\n    let data = pad(dateobj.getDate())+\"/\"+pad(dateobj.getMonth()+1)+\"/\"+dateobj.getFullYear();\n    let ora = pad(dateobj.getHours()) + \":\" + pad(dateobj.getUTCMinutes());\n\n    if (this.plt.is('android')){\n      this.diagnostic.isGpsLocationEnabled().then((GPS)=> {\n        if (GPS) {\n          if (typeof this.foto !== \"undefined\") {\n            const newItemRef = this.itemsRef.push({});\n            this.geolocation.getCurrentPosition().then((position) => {\n              this.lat = position.coords.latitude;\n              this.longi = position.coords.longitude;\n              newItemRef.set({\n                id: newItemRef.key,\n                user: this.email,\n                //data_in: new Date().toLocaleDateString(),\n                //ora_in: new Date().toLocaleTimeString(),\n                data_in: data,\n                ora_in: ora,\n                data_out: '',\n                ora_out: '',\n                latitudine: this.lat,\n                longitudine: this.longi,\n                img_in: this.foto,\n                img_out: '',\n                descrizione: this.descrizione.value,\n                stato: 2,\n                capo: '',\n                sorvegliante: '',\n                note_chiusura: ''\n              });\n              this.incrementaSegnalazioni();\n              this.loading.dismiss().then(() => {\n                alert(\"Segnalazione inviata correttamente.\\nIn attesa di riorganizzare i servizi, riscontreremo a breve la sua richiesta.\\nGrazie per la collaborazione!\");\n                this.navCtrl.pop();\n              });\n            }).catch(\n              (err) => {\n                this.loading.dismiss().then(() => {\n                  console.error('Errore: ', JSON.stringify(err));\n                });\n              });\n          } else {\n            this.loading.dismiss().then(() => {\n              alert(\"Non è possibile inviare segnalazioni senza foto.\\nScattarne una e riprovare\");\n            });\n          };\n\n        }else {\n          this.loading.dismiss().then(() => {\n            this.locationAccuracy.canRequest().then((canRequest: boolean) => {\n\n              if (!canRequest) {\n                alert(\"Posizione disattivata. Attivarla dalle Impostazioni e reinviare la segnalazione\");\n              }else{\n                // the accuracy option will be ignored by iOS\n                this.locationAccuracy.request(this.locationAccuracy.REQUEST_PRIORITY_HIGH_ACCURACY).then(\n                  () => console.log('Request successful'),\n                  error => console.log('Error requesting location permissions', error)\n                );\n              };\n\n            });\n          });\n        }\n      });\n    }else if (this.plt.is('ios')){\n      this.diagnostic.isLocationEnabled().then((GPS)=> {\n        if (GPS) {\n          if (typeof this.foto !== \"undefined\") {\n            const newItemRef = this.itemsRef.push({});\n            this.geolocation.getCurrentPosition().then((position) => {\n              this.lat = position.coords.latitude;\n              this.longi = position.coords.longitude;\n              newItemRef.set({\n                id: newItemRef.key,\n                user: this.email,\n                //data_in: new Date().toLocaleDateString(),\n                //ora_in: new Date().toLocaleTimeString(),\n                data_in: data,\n                ora_in: ora,\n                data_out: '',\n                ora_out: '',\n                latitudine: this.lat,\n                longitudine: this.longi,\n                img_in: this.foto,\n                img_out: '',\n                descrizione: this.descrizione.value,\n                stato: 2,\n                capo: '',\n                sorvegliante: '',\n                note_chiusura: ''\n              });\n              this.incrementaSegnalazioni();\n              this.loading.dismiss().then(() => {\n                alert(\"Segnalazione inviata correttamente.\\nIn attesa di riorganizzare i servizi, riscontreremo a breve la sua richiesta.\\nGrazie per la collaborazione!\");\n                this.navCtrl.pop();\n              });\n            }).catch(\n              (err) => {\n                this.loading.dismiss().then(() => {\n                  console.error('Errore: ', JSON.stringify(err));\n                });\n              });\n          } else {\n            this.loading.dismiss().then(() => {\n              alert(\"Non è possibile inviare segnalazioni senza foto.\\nScattarne una e riprovare\");\n            });\n          };\n\n        }else {\n          this.loading.dismiss().then(() => {\n            this.locationAccuracy.canRequest().then((canRequest: boolean) => {\n\n              if (canRequest) {\n                this.locationAccuracy.request(this.locationAccuracy.REQUEST_PRIORITY_HIGH_ACCURACY).then(\n                  () => alert(\"Servizio di Localizzazione disattivato. Andare su Impostazioni>Privacy>Localizzazione, attivarlo, e reinviare la segnalazione.\"),\n                  error => console.log('Posizione Ok')\n                );\n\n              };\n\n            });\n          });\n        }\n      });\n    };\n\n\n  }\n\n  controllaNumeroSegnalazioni(){\n    let numeroMaxSegnalazioniGiornaliere = 1;\n\n    let dateobj = new Date();\n    let giornoCorrente = dateobj.getDate();\n\n    //Inizializza lo storage locale nel caso in cui sia la prima installazione\n    this.storage.get('segnalazioni').then((val) => {\n      if (!val) {\n        this.storage.set('segnalazioni', JSON.stringify(0));\n        this.storage.set('giorno', JSON.stringify(giornoCorrente));\n      }\n    });\n\n    //Se è un giorno diverso dall'ultimo registrato, resetta a 0 le segnalazioni e salva il nuovo giorno\n    this.storage.get('giorno').then((val2) => {\n      let valore2 = JSON.parse(val2);\n\n      if (valore2 != giornoCorrente){\n        //alert(\"Resetto valori\");\n        this.storage.set('segnalazioni', JSON.stringify(0));\n        this.storage.set('giorno', JSON.stringify(giornoCorrente));\n      }\n\n      this.storage.get('segnalazioni').then((val) => {\n        let valore = parseInt(JSON.parse(val));\n        if (valore < numeroMaxSegnalazioniGiornaliere){\n          //alert(\"Numero segnalazioni: \" + valore);\n        }else {\n          alert(\"Raggiunto il numero massimo di segnalazioni giornaliere.\\nRiprovare domani\");\n          this.navCtrl.pop();\n        }\n      });\n\n    });\n  }\n\n  incrementaSegnalazioni(){\n    this.storage.get('segnalazioni').then((val) => {\n      let valore = parseInt(JSON.parse(val));\n      this.storage.set('segnalazioni',JSON.stringify(valore+1));\n    });\n  }\n\n  ionViewDidLoad() {\n    this.controllaNumeroSegnalazioni();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/foto/foto.ts","/*\n# SPDX-license-identifier: Apache-2.0\n#\n# Copyright (c) 2019 UniME - MDSLab\n#\n# Authors:  Andrea Centorrino <andrea.centorrino@gmail.com>\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\"); you may\n# not use this file except in compliance with the License. You may obtain\n# a copy of the License at\n#\n# http://www.apache.org/licenses/LICENSE-2.0\n  #\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n# License for the specific language governing permissions and limitations\n# under the License.\n*/\n\nimport {Component, ViewChild} from '@angular/core';\nimport {AlertController, IonicPage, NavController, NavParams, Events, LoadingController, Loading } from 'ionic-angular';\n\nimport { MainElenco } from '../elenco/elenco';\n\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport {AngularFireDatabase} from \"angularfire2/database\";\n\n@IonicPage()\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage {\n\n  @ViewChild('username') user;\n  @ViewChild('password') pass;\n\n  public loading: Loading;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public alertCtrl: AlertController, public fire: AngularFireAuth, public events: Events, public loadingCtrl: LoadingController) {\n  }\n\n  alert(message:string) {\n    this.alertCtrl.create({\n      title: 'Info',\n      subTitle: message,\n      buttons: ['OK']\n    }).present();\n  }\n\n  recuperaPass(){\n    if(this.user.value != '') {\n      this.fire.auth.sendPasswordResetEmail(this.user.value).then(data => alert(\"Abbiamo inviato un'email per resettare la password all'indirizzo \" + this.user.value\n      )).catch(error => alert(error));\n    }else{\n      alert(\"Inserire un indirizzo email valido per procedere al reset della password\");\n    }\n  }\n\n  async signIn(){\n    this.loading = this.loadingCtrl.create();\n    this.loading.present();\n    this.fire.auth.signInWithEmailAndPassword(this.user.value, this.pass.value)\n      .then( data => {\n        console.log('Dati: ', this.fire.auth.currentUser.email)\n        //Utente loggato\n        //this.alert('Accesso eseguito correttamente');\n        if(this.fire.auth.currentUser.emailVerified){\n          this.events.publish('user:logged', this.fire.auth.currentUser.email);\n          //this.afDatabase.database.goOnline();\n          this.loading.dismiss().then( () => {\n            this.navCtrl.setRoot(MainElenco);\n          });\n        }else{\n          this.loading.dismiss().then( () => {\n            alert(\"Controlla la posta e verifica il tuo indirizzo email\")\n          });\n        }\n\n      }).catch(error => {\n      this.loading.dismiss().then( () => {\n        //console.log('Errore: ', error)\n        //this.alert(error.message)\n        if (error === 'auth/wrong-password'){\n          this.alert(\"Password errata\");\n        } else if (error === 'auth/user-not-found'){\n          this.alert(\"Utente non trovato\");\n        } else if (error === 'auth/user-disabled'){\n          this.alert(\"Utente bloccato\");\n        }else if (error === 'auth/invalid-email'){\n          this.alert(\"Email non trovata\");\n        } else{\n          this.alert(error.message);\n        }\n      })\n    });\n\n  }\n\n  ionViewDidLoad() {\n    //console.log('ionViewDidLoad LoginPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","/*\n# SPDX-license-identifier: Apache-2.0\n#\n# Copyright (c) 2019 UniME - MDSLab\n#\n# Authors:  Andrea Centorrino <andrea.centorrino@gmail.com>\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\"); you may\n# not use this file except in compliance with the License. You may obtain\n# a copy of the License at\n#\n# http://www.apache.org/licenses/LICENSE-2.0\n  #\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n# License for the specific language governing permissions and limitations\n# under the License.\n*/\n\nimport {Component, ViewChild} from '@angular/core';\nimport { IonicPage, NavController, NavParams, Content } from 'ionic-angular';\nimport { RegistrazionePage } from \"../registrazione/registrazione\";\n\n@IonicPage()\n@Component({\n  selector: 'page-privacy',\n  templateUrl: 'privacy.html',\n})\nexport class PrivacyPage {\n\n  @ViewChild(Content) contenuto: Content;\n  pulsante_attivo:boolean=false;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n  }\n\n  registrazione(){\n    this.navCtrl.push(RegistrazionePage);\n    //this.contenuto.scroll\n  }\n\n  indietro(){\n    this.navCtrl.pop();\n  }\n\n  attiva(scrolling){\n    setTimeout(() => {\n      console.log(\"Attiva\");\n      this.pulsante_attivo = true;\n      scrolling.complete();\n    }, 500);\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad PrivacyPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/privacy/privacy.ts","/*\n# SPDX-license-identifier: Apache-2.0\n#\n# Copyright (c) 2019 UniME - MDSLab\n#\n# Authors:  Andrea Centorrino <andrea.centorrino@gmail.com>\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\"); you may\n# not use this file except in compliance with the License. You may obtain\n# a copy of the License at\n#\n# http://www.apache.org/licenses/LICENSE-2.0\n  #\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n# License for the specific language governing permissions and limitations\n# under the License.\n*/\n\nimport {Component, ViewChild} from '@angular/core';\nimport { AlertController, IonicPage, NavController, NavParams, LoadingController, Loading } from 'ionic-angular';\n\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { AngularFireDatabase , AngularFireList} from \"angularfire2/database\";\n\n@IonicPage()\n@Component({\n  selector: 'page-registrazione',\n  templateUrl: 'registrazione.html',\n})\nexport class RegistrazionePage {\n\n  @ViewChild('username') user;\n  @ViewChild('password') pass;\n  @ViewChild('password2') pass2;\n  @ViewChild('codicefiscale') codicefiscale;\n  @ViewChild('nome') nome;\n  @ViewChild('cognome') cognome;\n  @ViewChild('indirizzo') indirizzo;\n  @ViewChild('telefono') telefono;\n\n  public loading: Loading;\n\n  itemsRef: AngularFireList<any>;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public alertCtrl: AlertController, private fire: AngularFireAuth, private afDatabase: AngularFireDatabase, public loadingCtrl: LoadingController) {\n    this.itemsRef = afDatabase.list('/anagrafica_utenti');\n  }\n\n  alert(message: string) {\n    this.alertCtrl.create({\n      title: 'Info',\n      subTitle: message,\n      buttons: ['OK']\n    }).present();\n  }\n\n  registraUtente() {\n    //console.log('Would register user with ',this.user.value, this.pass.value);\n    this.loading = this.loadingCtrl.create();\n    this.loading.present();\n\n    if (this.pass.value != this.pass2.value) {\n      this.loading.dismiss().then(() => {\n        alert(\"Le password non coincidono.\");\n      });\n    } else if (this.nome.value === \"\" || this.cognome.value === \"\" || this.indirizzo.value === \"\" || this.telefono.value === \"\") {\n      this.loading.dismiss().then(() => {\n        this.alert(\"Compilare tutti i campi.\");\n      });\n    } else if (this.codicefiscale.value === \"\" || !this.controllaCF()) {\n      this.loading.dismiss().then(() => {\n        this.alert(\"Inserire Codice Fiscale corretto.\");\n      });\n    } else {\n      this.fire.auth.createUserWithEmailAndPassword(this.user.value.trim(), this.pass.value)\n        .then(data => {\n          console.log('Dati acquisiti ', data);\n          this.fire.auth.currentUser.sendEmailVerification()\n          this.aggiungiCodiceFiscale();\n          this.fire.auth.signOut();\n          this.loading.dismiss().then(() => {\n            alert('Registrazione eseguita\\nControlla la posta');\n            this.navCtrl.remove(2, 1);\n            this.navCtrl.pop();\n          });\n        })\n        .catch(error => {\n          if (error.code === 'auth/email-already-in-use') {\n            this.loading.dismiss().then(() => {\n              this.alert(\"Email già registrata\");\n            });\n          } else if (error.code === 'auth/invalid-email') {\n            this.loading.dismiss().then(() => {\n              this.alert(\"Email non valida\");\n            });\n          } else if (error.code === 'operation-not-allowed') {\n            this.loading.dismiss().then(() => {\n              this.alert(\"Operazione non permessa\");\n            });\n          } else if (error.code === 'auth/weak-password') {\n            this.loading.dismiss().then(() => {\n              this.alert(\"Password poco sicura\");\n            });\n          } else {\n            this.loading.dismiss().then(() => {\n              this.alert(error.message);\n            });\n          }\n        });\n    }\n  }\n\n  controllaCF() {\n    // Definisco un pattern per il confronto\n    let pattern = /^[a-zA-Z]{6}[0-9]{2}[a-zA-Z][0-9]{2}[a-zA-Z][0-9]{3}[a-zA-Z]$/;\n\n    // utilizzo il metodo search per verificare che il valore inserito nel campo\n    // di input rispetti la stringa di verifica (pattern)\n    if (this.codicefiscale.value.search(pattern) == -1) {\n      // In caso di errore stampo un avviso\n      //alert(\"Il Codifce Fiscale inserito è errato\");\n      return 0\n    } else {\n      // ...in caso contrario stampo un avviso di successo!\n      //alert(\"Il Codice Fiscale è corretto!\");\n      return 1\n    }\n  }\n\n  aggiungiCodiceFiscale() {\n    //this.alert(\"Salvo il CF nel database\");\n    const newItemRef = this.itemsRef.push({});\n    newItemRef.set({\n      utente: this.user.value.toLowerCase(),\n      codice_fiscale: this.codicefiscale.value.toUpperCase(),\n      nome: this.nome.value,\n      cognome: this.cognome.value,\n      indirizzo: this.indirizzo.value,\n      telefono: this.telefono.value\n    }).catch((err) => {\n      console.error('Errore: ', JSON.stringify(err));\n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad RegistrazionePage');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/registrazione/registrazione.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 162;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 162\n// module chunks = 6","var map = {\n\t\"../pages/dettagli/dettagli.module\": [\n\t\t478,\n\t\t5\n\t],\n\t\"../pages/elenco/elenco.module\": [\n\t\t479,\n\t\t4\n\t],\n\t\"../pages/foto/foto.module\": [\n\t\t483,\n\t\t3\n\t],\n\t\"../pages/login/login.module\": [\n\t\t480,\n\t\t2\n\t],\n\t\"../pages/privacy/privacy.module\": [\n\t\t481,\n\t\t1\n\t],\n\t\"../pages/registrazione/registrazione.module\": [\n\t\t482,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 207;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 207\n// module chunks = 6","/*\n# SPDX-license-identifier: Apache-2.0\n#\n# Copyright (c) 2019 UniME - MDSLab\n#\n# Authors:  Andrea Centorrino <andrea.centorrino@gmail.com>\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\"); you may\n# not use this file except in compliance with the License. You may obtain\n# a copy of the License at\n#\n# http://www.apache.org/licenses/LICENSE-2.0\n  #\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n# License for the specific language governing permissions and limitations\n# under the License.\n*/\n\nimport { Component } from '@angular/core';\nimport { NavController, AlertController } from 'ionic-angular';\nimport { LoginPage } from '../login/login';\nimport { PrivacyPage } from '../privacy/privacy';\n\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n\n  constructor(public navCtrl: NavController, public alertCtrl: AlertController) {\n\n  }\n\n  signIn(){\n    this.navCtrl.push(LoginPage);\n  }\n\n  register(){\n    this.navCtrl.push(PrivacyPage);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Injectable } from '@angular/core';\n\nimport { Firebase } from '@ionic-native/firebase';\nimport { Platform } from 'ionic-angular';\nimport { AngularFirestore } from 'angularfire2/firestore';\nimport {AngularFireDatabase, AngularFireList } from \"angularfire2/database\";\n\n/*\n  Generated class for the FcmProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class FcmProvider {\n\n\n  token;\n\n  constructor(public firebaseNative: Firebase, public afs: AngularFirestore, private platform: Platform) {\n\n  }\n\n  // Get permission from the user\n  async getToken() {\n    //let token;\n\n    if (this.platform.is('android')) {\n      this.token = await this.firebaseNative.getToken();\n    }\n\n    if (this.platform.is('ios')) {\n      this.token = await this.firebaseNative.getToken();\n      await this.firebaseNative.grantPermission();\n    }\n\n    //this.itemsRef.set(user,{token: token});\n    return this.saveTokenToFirestore(this.token)\n  }\n\n  // Save the token to firestore\n  private saveTokenToFirestore(token) {\n    if (!token) return;\n\n    //this.afDatabase.object('/token/' + user).set({token: token});\n\n    const devicesRef = this.afs.collection('dispositivi')\n\n    const docData = {\n      token\n    }\n\n    //this.itemsRef.set(user,{token: token})\n\n    /*\n    const newItemRef = this.itemsRef.push({});\n    newItemRef.set({\n      user: user,\n      token: token\n    }).then(msg => alert(\"Token inserito \" + msg));\n    */\n\n    return devicesRef.doc(token).set(docData)\n  }\n\n  // Listen to incoming FCM messages\n  listenToNotifications() {\n    return this.firebaseNative.onNotificationOpen()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/fcm/fcm.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","/*\n# SPDX-license-identifier: Apache-2.0\n#\n# Copyright (c) 2019 UniME - MDSLab\n#\n# Authors:  Andrea Centorrino <andrea.centorrino@gmail.com>\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\"); you may\n# not use this file except in compliance with the License. You may obtain\n# a copy of the License at\n#\n# http://www.apache.org/licenses/LICENSE-2.0\n  #\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n# License for the specific language governing permissions and limitations\n# under the License.\n*/\n\nimport { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { LoginPage } from '../pages/login/login';\nimport { RegistrazionePage } from '../pages/registrazione/registrazione';\nimport { MainElenco } from '../pages/elenco/elenco';\nimport { DettagliPage } from \"../pages/dettagli/dettagli\";\nimport { FotoPage } from \"../pages/foto/foto\";\nimport { PrivacyPage } from \"../pages/privacy/privacy\";\n\nimport { Geolocation } from '@ionic-native/geolocation';\n\nimport { Camera, CameraOptions } from '@ionic-native/camera';\n\nimport { Firebase } from '@ionic-native/firebase';\n\nimport { AngularFirestoreModule } from 'angularfire2/firestore';\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\nimport { AngularFireDatabaseModule, AngularFireDatabase } from 'angularfire2/database';\n\nimport { Diagnostic } from '@ionic-native/diagnostic';\nimport { LocationAccuracy } from '@ionic-native/location-accuracy';\nimport { FcmProvider } from '../providers/fcm/fcm';\n\nimport { IonicStorageModule } from '@ionic/storage';\n\nconst firebaseAuth = {\n  apiKey: \"AIzaSyCLgHW4JHGbKmaIMDaz1u94VgG7qap000o\",\n  authDomain: \"aiutame-84f72.firebaseapp.com\",\n  databaseURL: \"https://aiutame-84f72.firebaseio.com\",\n  projectId: \"aiutame-84f72\",\n  storageBucket: \"aiutame-84f72.appspot.com\",\n  messagingSenderId: \"400182942859\"\n};\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage,\n    LoginPage,\n    RegistrazionePage,\n    MainElenco,\n    DettagliPage,\n    FotoPage,\n    PrivacyPage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    AngularFireModule.initializeApp(firebaseAuth),\n    AngularFirestoreModule,\n    AngularFireAuthModule,\n    AngularFireDatabaseModule,\n    IonicStorageModule.forRoot()\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    LoginPage,\n    RegistrazionePage,\n    MainElenco,\n    DettagliPage,\n    FotoPage,\n    PrivacyPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    Geolocation,\n    Camera,\n    AngularFireDatabase,\n    Diagnostic,\n    LocationAccuracy,\n    Firebase,\n    FcmProvider,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","/*\n# SPDX-license-identifier: Apache-2.0\n#\n# Copyright (c) 2019 UniME - MDSLab\n#\n# Authors:  Andrea Centorrino <andrea.centorrino@gmail.com>\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\"); you may\n# not use this file except in compliance with the License. You may obtain\n# a copy of the License at\n#\n# http://www.apache.org/licenses/LICENSE-2.0\n  #\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n# License for the specific language governing permissions and limitations\n# under the License.\n*/\n\nimport { Component, ViewChild } from '@angular/core';\nimport { Nav, Platform, MenuController, Events } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport {AngularFireDatabase, AngularFireList} from 'angularfire2/database';\n\nimport { HomePage } from '../pages/home/home';\nimport { MainElenco } from '../pages/elenco/elenco';\n\nimport { FcmProvider } from '../providers/fcm/fcm';\n\nimport { ToastController } from 'ionic-angular';\nimport { Subject } from 'rxjs/Subject';\nimport { tap } from 'rxjs/operators';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  @ViewChild(Nav) nav: Nav;\n\n  //rootPage:any = HomePage;\n  itemsRef: AngularFireList<any>;\n  email: string;\n  rootPage:any;\n  pagine_utente: Array<{title: string, component: any}>;\n  pagine_operatore: Array<{title: string, component: any}>;\n\n  constructor(public platform: Platform, public statusBar: StatusBar, public splashScreen: SplashScreen,\n              public fire: AngularFireAuth, public menuCtrl: MenuController, public events: Events,\n              public afDatabase: AngularFireDatabase, public fcm: FcmProvider, public toastCtrl: ToastController) {\n\n    //this.itemsRef = afDatabase.list('/token');\n\n    this.initializeApp();\n\n    const unsubscribe = fire.auth.onAuthStateChanged(user => {\n      if (!user) {\n        this.rootPage = HomePage;\n        unsubscribe();\n      } else {\n        this.email = fire.auth.currentUser.email;\n        this.events.publish('user:logged', fire.auth.currentUser.email);\n        //alert(this.email + \" \" + this.fcm.token);\n        //this.itemsRef = afDatabase.list('/token', ref => ref.orderByChild('user').equalTo(this.email));\n        /*const newItemRef = this.itemsRef.push({});\n        newItemRef.set({\n          user: this.email,\n          token: this.fcm.token\n        }).then(msg => alert(\"Token inserito \" + msg));\n        */\n        //this.itemsRef.set(this.email,{token: this.fcm.token});\n        this.rootPage = MainElenco;\n        unsubscribe();\n      }\n    });\n\n    events.subscribe('user:logged', (user) => {\n      this.email = user;\n    });\n  }\n\n  initializeApp() {\n    let token;\n    this.platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      this.statusBar.styleDefault();\n      this.splashScreen.hide();\n\n      // Get a FCM token\n      this.fcm.getToken();\n\n      // Listen to incoming messages\n      this.fcm.listenToNotifications().pipe(\n        tap(msg => {\n          // show a toast\n          const toast = this.toastCtrl.create({\n            message: msg.body,\n            duration: 3000\n          });\n          toast.present();\n        })\n      ).subscribe()\n    });\n  }\n\n  logout(){\n    //this.afDatabase.database.goOffline();\n\n    this.fire.auth.signOut();\n    console.log(\"Logout\")\n    this.menuCtrl.toggle();\n    this.nav.setRoot(HomePage);\n  }\n\n  apriSito(){\n    window.open(\"http://www.messinaservizibenecomune.it\",'_system', 'location=yes');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","/*\n# SPDX-license-identifier: Apache-2.0\n#\n# Copyright (c) 2019 UniME - MDSLab\n#\n# Authors:  Andrea Centorrino <andrea.centorrino@gmail.com>\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\"); you may\n# not use this file except in compliance with the License. You may obtain\n# a copy of the License at\n#\n# http://www.apache.org/licenses/LICENSE-2.0\n  #\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n# License for the specific language governing permissions and limitations\n# under the License.\n*/\n\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController, LoadingController, Loading } from 'ionic-angular';\n\nimport { AngularFireAuth } from \"angularfire2/auth\";\nimport { AngularFireDatabase, AngularFireList } from 'angularfire2/database';\n\nimport { DettagliPage } from \"../dettagli/dettagli\";\nimport { FotoPage } from \"../foto/foto\";\n\nimport { Observable } from \"rxjs/Observable\";\n\nimport { Geolocation } from '@ionic-native/geolocation';\n\nimport { Storage } from '@ionic/storage';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-elenco',\n  templateUrl: 'elenco.html',\n})\nexport class MainElenco {\n\n  public loading: Loading;\n  email: string;\n\n    itemsRef: AngularFireList<any>;\n    items: Observable<any []>;\n    riferimento: AngularFireList<any>;\n\n    constructor(public navCtrl: NavController, public navParams: NavParams, public alertCtrl: AlertController, public fire: AngularFireAuth, public afDatabase: AngularFireDatabase, public geolocation: Geolocation, public loadingCtrl: LoadingController, private storage: Storage) {\n      this.loading = this.loadingCtrl.create();\n      this.loading.present();\n      this.email = fire.auth.currentUser.email;\n      //this.itemsRef = afDatabase.list('segnalazioni')\n      this.riferimento = afDatabase.list('segnalazioni', ref => ref.orderByChild('user').equalTo(this.email));\n      this.items = this.riferimento.valueChanges();\n      this.loading.dismiss();\n      this.benvenuto();\n  }\n\n  alert(message:string) {\n    this.alertCtrl.create({\n      title: 'Info',\n      subTitle: message,\n      buttons: ['OK']\n    }).present();\n  }\n\n  itemSelected(item: Observable<any>) {\n    this.navCtrl.push(DettagliPage, {dettaglio: item, riferimento: this.riferimento});\n  }\n\n  fabClick(){\n      //alert(this.fire.auth.currentUser.email);\n      this.navCtrl.push(FotoPage);\n  }\n\n  benvenuto(){\n    //Inizializza lo storage locale nel caso in cui sia la prima installazione\n    this.storage.get('benvenuto').then((val) => {\n      if (!val) {\n        this.storage.set('benvenuto', JSON.stringify(0));\n      }\n    });\n\n    //Mostra\n    this.storage.get('benvenuto').then((val2) => {\n      let valore2 = JSON.parse(val2);\n\n      if (valore2 != 1) {\n        alert(\"Benvenuto su MSBC!\\nTramite il pulsante '+' potrai inviare le tue segnalazioni direttamente a MessinaServizi Bene Comune.\\n\" +\n          \"Puoi inviare una segnalazione al giorno.\");\n        this.storage.set('benvenuto', JSON.stringify(1));\n      }\n    });\n\n  }\n\n  ionViewDidLoad() {\n    let dateobj = new Date();\n    function pad(n) {return n < 10 ? \"0\"+n : n;}\n    let data = pad(dateobj.getDate())+\"/\"+pad(dateobj.getMonth()+1)+\"/\"+dateobj.getFullYear();\n    let ora = pad(dateobj.getHours()) + \":\" + pad(dateobj.getUTCMinutes());\n\n    console.log(data + \" - \" + ora);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/elenco/elenco.ts"],"sourceRoot":""}